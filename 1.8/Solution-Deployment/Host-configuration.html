<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Host Configuration | HPE SOLUTION FOR GOOGLE ANTHOS 1.8 ON HPE INFRASTRUCTURE</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Hewlett Packard Enterprise">
    
    <link rel="preload" href="/hpe-solutions-googleanthos/1.8/assets/css/0.styles.279d5301.css" as="style"><link rel="preload" href="/hpe-solutions-googleanthos/1.8/assets/js/app.9bbc654e.js" as="script"><link rel="preload" href="/hpe-solutions-googleanthos/1.8/assets/js/2.0cd4e70b.js" as="script"><link rel="preload" href="/hpe-solutions-googleanthos/1.8/assets/js/3.8475c6c0.js" as="script"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/10.93104643.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/11.456baf98.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/12.76e7a57a.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/13.58910a84.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/14.0201a349.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/15.412c5f48.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/16.47ac5a1b.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/17.a36be225.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/18.056d5bce.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/19.9aa09ada.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/4.5a8c2944.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/5.20062654.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/6.fd2018e6.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/7.05a6c413.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/8.9aedf684.js"><link rel="prefetch" href="/hpe-solutions-googleanthos/1.8/assets/js/9.533d369a.js">
    <link rel="stylesheet" href="/hpe-solutions-googleanthos/1.8/assets/css/0.styles.279d5301.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hpe-solutions-googleanthos/1.8/" class="home-link router-link-active"><!----> <span class="site-name">HPE SOLUTION FOR GOOGLE ANTHOS 1.8 ON HPE INFRASTRUCTURE</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hpe-solutions-googleanthos/1.8/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hpe-solutions-googleanthos/1.8/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="http://www.hpe.com/info/ra" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RA Library
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Google Anthos On HPE Infrastructure</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution Components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Solution Deployment</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hpe-solutions-googleanthos/1.8/Solution-Deployment/Solution-deployment-flow.html" class="sidebar-link">Solution Deployment Flow</a></li><li><a href="/hpe-solutions-googleanthos/1.8/Solution-Deployment/Preparing-execution-environment.html" class="sidebar-link">Preparing the execution environment</a></li><li><a href="/hpe-solutions-googleanthos/1.8/Solution-Deployment/Operating-system-deployment.html" class="sidebar-link">Deploying operating system on bare-metal nodes</a></li><li><a href="/hpe-solutions-googleanthos/1.8/Solution-Deployment/Host-configuration.html" aria-current="page" class="active sidebar-link">Host Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hpe-solutions-googleanthos/1.8/Solution-Deployment/Host-configuration.html#rhel-8-4-host-configuration" class="sidebar-link">RHEL 8.4 Host Configuration</a></li><li class="sidebar-sub-header"><a href="/hpe-solutions-googleanthos/1.8/Solution-Deployment/Host-configuration.html#ubuntu-18-04-or-20-04-host-configuration" class="sidebar-link">Ubuntu 18.04 or 20.04 Host Configuration</a></li></ul></li><li><a href="/hpe-solutions-googleanthos/1.8/Solution-Deployment/Manually-install-google-anthos.html" class="sidebar-link">Manually Install and configure Google Anthos 1.8</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resosurces and Additional Links</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="host-configuration"><a href="#host-configuration" class="header-anchor">#</a> Host Configuration</h1> <h2 id="rhel-8-4-host-configuration"><a href="#rhel-8-4-host-configuration" class="header-anchor">#</a> RHEL 8.4 Host Configuration</h2> <ol><li>Run below commands to create a user and add to wheel group</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">useradd</span> <span class="token operator">&lt;&lt;</span>username<span class="token operator">&gt;&gt;</span>

<span class="token operator">&gt;</span> <span class="token function">passwd</span> <span class="token operator">&lt;&lt;</span>password<span class="token operator">&gt;&gt;</span>

<span class="token operator">&gt;</span> <span class="token function">usermod</span> --append -G wheel <span class="token operator">&lt;&lt;</span>username<span class="token operator">&gt;&gt;</span>
</code></pre></div><ol start="2"><li>Open the <strong>visudo</strong> file and provide passwordless authentication to
the user.</li></ol> <p><img src="/hpe-solutions-googleanthos/1.8/assets/img/image9.f43ade84.png" alt=""></p> <ol start="3"><li>Make sure redhat server registered with right subscription. If not,
follow the below steps to attach the subscription.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">sudo</span> subscription-manager register --username <span class="token operator">&lt;</span>Redhat_username<span class="token operator">&gt;</span> --password <span class="token operator">&lt;</span>Redhat_Password<span class="token operator">&gt;</span> --auto-attach
</code></pre></div><ol start="4"><li>Run below command in case of attaching subscription forcefully.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">sudo</span> subscription-manager register --username <span class="token operator">&lt;</span>Redhat_username<span class="token operator">&gt;</span> --password <span class="token operator">&lt;</span>Redhat_Password<span class="token operator">&gt;</span> --auto-attach --force
</code></pre></div><ol start="5"><li>Run the below command to check the status of the subscription.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> subscription-manager status
</code></pre></div><p><img src="/hpe-solutions-googleanthos/1.8/assets/img/image10.2c9daa2a.png" alt=""></p> <ol start="6"><li>Make sure SELinux status set to &quot;permissive&quot;. Follow below steps to
change the SELinux status.</li></ol> <p>Run the below command to check SELius status.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>selinux -v
</code></pre></div><p>Edit the configuration file and set state to &quot;permissive&quot; and then
reboot the system.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vi</span> /etc/selinux/config
</code></pre></div><p><img src="/hpe-solutions-googleanthos/1.8/assets/img/image11.4b3c4539.png" alt=""></p> <ol start="7"><li>Disable firewall service on hosts.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">sudo</span> systemctl stop firewalld

<span class="token operator">&gt;</span> <span class="token function">sudo</span> systemctl disable firewalld
</code></pre></div><h4 id="docker-installation"><a href="#docker-installation" class="header-anchor">#</a> Docker Installation</h4> <p>Login as a non-root user and follow the below steps to install docker.</p> <p>sudo dnf check-update</p> <ol><li>Remove any previous Docker version:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span>  <span class="token function">sudo</span> dnf remove docker <span class="token punctuation">\</span>
<span class="token operator">&gt;</span>   docker-client <span class="token punctuation">\</span>
<span class="token operator">&gt;</span>   docker-client-latest <span class="token punctuation">\</span>
<span class="token operator">&gt;</span>   docker-common <span class="token punctuation">\</span>
<span class="token operator">&gt;</span>   docker-latest <span class="token punctuation">\</span>
<span class="token operator">&gt;</span>   docker-latest-logrotate <span class="token punctuation">\</span>
<span class="token operator">&gt;</span>   docker-logrotate <span class="token punctuation">\</span>
<span class="token operator">&gt;</span>   docker-engine
</code></pre></div><ol start="2"><li>Remove podman-manpages</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">sudo</span> dnf remove podman-manpages
</code></pre></div><ol start="3"><li>Install Docker 19.03+</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">sudo</span> dnf <span class="token function">install</span> -y yum-utils

<span class="token operator">&gt;</span> <span class="token function">sudo</span> yum-config-manager --add-repo <span class="token operator">&lt;</span>https://download.docker.com/linux/centos/docker-ce.repo<span class="token operator">&gt;</span>

<span class="token operator">&gt;</span> <span class="token function">sudo</span> dnf <span class="token function">install</span> -y docker-ce docker-ce-cli containerd.io

<span class="token operator">&gt;</span> <span class="token function">sudo</span> systemctl start docker
</code></pre></div><ol start="4"><li>Verify you are now running version 19.03+</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">sudo</span> docker version
</code></pre></div><ol start="5"><li>Compare your output with the following example to ensure the Client
and Server versions are 19.03+</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span>  Client: Docker Engine - Community<span class="token punctuation">\</span>
<span class="token operator">&gt;</span>  Version:           <span class="token number">19.03</span>.13<span class="token punctuation">\</span>
<span class="token operator">&gt;</span>  <span class="token punctuation">\</span><span class="token punctuation">..</span>.<span class="token punctuation">\</span>
<span class="token operator">&gt;</span>  Server: Docker Engine - Community<span class="token punctuation">\</span>
<span class="token operator">&gt;</span>   Engine:<span class="token punctuation">\</span>
<span class="token operator">&gt;</span>   Version:          <span class="token number">19.03</span>.13
</code></pre></div><ol start="6"><li>Verify Docker runs</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> docker run hello-world
</code></pre></div><div class="language- extra-class"><pre><code>User should see something similar to this:
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> Hello from Docker<span class="token operator">!</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start docker

<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> docker
</code></pre></div><p>Add user to Docker Group</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">su</span>

<span class="token function">usermod</span> --append -G docker username
</code></pre></div><h4 id="install-kubectl"><a href="#install-kubectl" class="header-anchor">#</a> Install Kubectl</h4> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">&gt;</span> /etc/yum.repos.d/kubernetes.repo</span>

[kubernetes]

name=Kubernetes

baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64

enabled=1

gpgcheck=1

repo_gpgcheck=1

gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg
https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg

EOF</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>yum <span class="token function">install</span> -y kubectl
</code></pre></div><h4 id="installing-the-latest-cloud-sdk-version"><a href="#installing-the-latest-cloud-sdk-version" class="header-anchor">#</a> Installing the latest Cloud SDK version</h4> <p>1. Update DNF with Cloud SDK repo information:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">tee</span> -a /etc/yum.repos.d/google-cloud-sdk.repo <span class="token operator">&lt;&lt;</span> EOM<span class="token punctuation">\</span>
<span class="token punctuation">[</span>google-cloud-sdk<span class="token punctuation">]</span><span class="token punctuation">\</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>Google Cloud SDK<span class="token punctuation">\</span>
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>https://packages.cloud.google.com/yum/repos/cloud-sdk-el7-x86_64<span class="token punctuation">\</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">\</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">\</span>
<span class="token assign-left variable">repo_gpgcheck</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">\</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>https://packages.cloud.google.com/yum/doc/yum-key.gpg<span class="token punctuation">\</span>
       https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg<span class="token punctuation">\</span>
EOM
</code></pre></div><p>2. Install the Cloud SDK</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> dnf <span class="token function">install</span> google-cloud-sdk -y
</code></pre></div><ol start="3"><li>Optionally, install the below additional components</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> dnf <span class="token function">install</span> google-cloud-sdk-app-engine-python -y

<span class="token function">sudo</span> dnf <span class="token function">install</span> google-cloud-sdk-app-engine-python-extras -y

<span class="token function">sudo</span> dnf <span class="token function">install</span> google-cloud-sdk-app-engine-java -y

<span class="token function">sudo</span> dnf <span class="token function">install</span> google-cloud-sdk-app-engine-go -y

<span class="token function">sudo</span> dnf <span class="token function">install</span> google-cloud-sdk-bigtable-emulator -y

<span class="token function">sudo</span> dnf <span class="token function">install</span> google-cloud-sdk-cbt -y

<span class="token function">sudo</span> dnf <span class="token function">install</span> google-cloud-sdk-cloud-build-local -y

<span class="token function">sudo</span> dnf <span class="token function">install</span> google-cloud-sdk-datalab -y

<span class="token function">sudo</span> dnf <span class="token function">install</span> google-cloud-sdk-datastore-emulator -y

<span class="token function">sudo</span> dnf <span class="token function">install</span> google-cloud-sdk-firestore-emulator -y

<span class="token function">sudo</span> dnf <span class="token function">install</span> google-cloud-sdk-pubsub-emulator -y
</code></pre></div><h4 id="configure-ntp-server"><a href="#configure-ntp-server" class="header-anchor">#</a> Configure NTP Server</h4> <p>Login to your ntp server through putty and open chrony.conf file and
update the below entries.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> /etc/chrony.conf
</code></pre></div><p><img src="/hpe-solutions-googleanthos/1.8/assets/img/image12.cb2f38a3.png" alt=""></p> <p>In this case my network id is 20.0.0.0/8 likewise replace with your
network id.</p> <p>Run the below commands.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> timedatectl set-timezone <span class="token string">'America/New_York'</span>

<span class="token function">sudo</span> timedatectl set-ntp <span class="token boolean">true</span>

<span class="token function">sudo</span> systemctl start chronyd

<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> chronyd

<span class="token function">sudo</span> systemctl restart chronyd
</code></pre></div><h4 id="configure-ntp-client"><a href="#configure-ntp-client" class="header-anchor">#</a> Configure NTP client:</h4> <p>1.Install chrony by using the below command</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> chrony -y
</code></pre></div><p>2.update the ntp server in the below file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vi</span> /etc/chrony.conf
</code></pre></div><p><img src="/hpe-solutions-googleanthos/1.8/assets/img/image13.e12819fe.png" alt=""></p> <p>3.Restart the ntp service</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart chronyd
</code></pre></div><h2 id="ubuntu-18-04-or-20-04-host-configuration"><a href="#ubuntu-18-04-or-20-04-host-configuration" class="header-anchor">#</a> Ubuntu 18.04 or 20.04 Host Configuration</h2> <ol><li>Create a non-root user and enable passwordless sudo for the user.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">sudo</span> --i

<span class="token operator">&gt;</span> <span class="token function">usermod</span> -aG <span class="token function">sudo</span> user
</code></pre></div><ol start="2"><li>Open visudo file, Find a line which contains includedir
/etc/sudoers.d. Add the below line.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> visudo

<span class="token operator">&gt;</span> username <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> NOPASSWD: ALL
</code></pre></div><p>for ex: user1 ALL=(ALL) NOPASSWD: ALL</p> <p><img src="data:image/png;base64,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" alt=""></p> <h4 id="install-ntp-client"><a href="#install-ntp-client" class="header-anchor">#</a> Install NTP Client</h4> <ol><li>Run the below command cto install NTP client</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> chrony
</code></pre></div><ol start="2"><li>open the chrony configuration file and add the ntp server as show
below.</li></ol> <p>sudo vi /etc/chrony/chrony.conf</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAk0AAABUCAIAAAFn2aTjAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABxiSURBVHhe7Z07bhvLEkDfGq4twIKUOnRmOBAEhQQkwKEDJV4AAwMS/FYgwBlxM0OJU8MRo5sRuHgb0BK0A+1Br7qruvrfU/MhNaTqgB73dFfXpz/T8yP1n+fn59OAv37+i1tMMGb3coWJk6+/MfPdR7OFnDc315g4vomq260pYrgI00kCCfNZIVq3OIUfv8MGit7cmQRyEuRAIg3vwKDwnp6ecIsJ5unpgYtcjgETUHZ6usBdhIvCzE58rbXpIpNw1THBOVEiFsatTTxgAiiHh1tKLNeYWK6rMmGatwub08nTw5prPT2Qx2gUAT3rNciQG6Y0FgYwAVubyMI7VDoGJ7ciF8FWPiatLBW5HBpU0CGYA7DMJIMzHDXdg7PXmOQE1yqMbTuoOLzJB2fYcBTeP//8D/cPjGjumXawPQ6Nh42xXNrd09PN5+oUvaL/50gWnu1xTGMCef78DB9Oh4nNxeb2wiRgF9K2ZC5E4R0eaXhwImPOgPA8yOXw6Rhn4ukYwKdjmMA0bjmRnFiFOXj2dHSzYoVY680dDSIG8/GcC3OAMI1wDiZeR++ZWecOr4sVrfq8vmERw7vlZS3OaYMHcRaGI5lN+0UVEpg2xzqbwC3ghL2MTftTFqAQHlS0RQQXYTrMMdvKKVsvwlqY4F0A0/ZYTkWYwHSSk/CKB2cCCthEa0w2xjYmeFABkw/OhNbgxBxOGAmWqYxJu+0Y22ECsSJREe8CmBYOzvCMDDDhwRnZIZ+UYWzYANDjNt82CZ6gMR/cGQknMuZ2gpaGB/jx5k7Q8OQLtnzylZ+FoYyelO0UE95hRygETuKSU7zjS38Dbp5IO48nZs7qoVokYWT1XfJSriYnmkzWeXyLI04UT2SwR6OQuJbD97or4py8emOIhJqFNxh7E3vIy8aDOUVLXQ0Bf4yEcx7d41qGimbGiNqiqJbBKBN3nrI/DD9smhGSZXYy7MjTMLTLQ9kubQUsa0eaUYdNL+PwrRwfKDjRcZDsYz1XmPuDOdFhKpdhXBFqnsdh0yDuvIPGNlHaNPuL7zy8WB9zvQ7Xeni5xwmmmXObXP02ipSQqPPOzjDTj1Ce4E/rJZ7z5EWe90Fb5zcq6jmFHmoUKY4pZ56yY0znYertz3/hg2nE33S4XEHi6DJIOFDgxKWxCBOwxVLMge27O9pNElA9TwBYi/WcfP2dJABIsFHehv7AFjMxB7ZBdXpUhzlv7r6zY8BRKmzCP7oxLQDJxMMwh41yKXrI4MO+3A2GqxdkXBf4npscZ3IsI/WIqtvmoLTl+PL6zU96WW6ebLHnlK0i6jk4MXlY1a4xTuslBJ7X1OisvgPaHjIv4mrtmtL3nDlxtAHAVXCSAJKes7KmCBPrpc9hcBeqcVExB8DqWORZmEeskMNuGFH3+HciFqAO/rOaKWFyTdHyCS6S10u0vgxcZWyGKbUiRgZ8hQ20FdcKnTfl8M9p5gDhsh0TXCvGVsqIes5szTVAmoBt3nOwxSwsCYURlkkUck5eHXMQzOEEVkcwfxKgzWCLOkMPoTnNxsIWkzlnXLHgk328WIL/udRvS5pDSUNcHbGZsVWHdM5BIhlusEWVWARbzMQc2GI8IGP/T3NgN6zORZhj/ivPOYMpnYrlGmC1gRsULeZgGhJJIyDGP/PfClw1+Q8rrsXO55o5QJxz3AhYGICtkpLOucGMrK70RXSGoswQUc/BfErPLe1Mp3RMe/IlaiQUrAcMUJgjPGBMYqsvNd+k61zxDCU86lOVQE8xB8BFEYsYLIKE0DoWYQIVAliKBNWjs0S75jN7cG4JZZSKSdc50JgnYNur58xucDbFCQDVhDlIUktiPVeY+2NzKJNy4tvl2C4sHGhOVQGxFyYfwTML1Az/c6nfljSHkobSuSUg6jmsxsOEEwAkgmYxZWERbNF78Mz+n+bALkYNadDDRZiDW0y0rWMOCZgMKoItZmIObIPq5DfmJD03+3NLc1RYrwKrjnTOvRQjrYuq2wai9P7je04f9OwXk/Wcf6L9/t492nbkOadXnNOnSPH4nvv17Ry2P6Dn3KkOHF/wLAgPMuY0ISsyyYDNB2ru54tbzAFqOUjybcxGkRISzTncQt8YzEru11L8v1AUQD2EW0HPYU6x54pFSojvuS92a/rPneqE3QM55r9SEQItDh+Yc+GxkRJ5zocNJOybJlePUOuT6adGkZKjZyj7iu85Zb8wPYdQxp4geLvkPHuRJM8ZBb4yhEz10g0SapZQs95Xj+dyZX8Jodpi+HrVeIZ7uM/s66xTXoqTj+cn7rdFlGHorHvtrB9KX9xStsnEs26xekieqElYPTz1r5RCdwz6M4n1w6BXGy4WrVabZ6u2fR7IYrVeLp4q3xcvUp513Po8iyQ5SboI1wo7OOmhouaEUA9K5LUaMpwAata5Vk5exLUS6+F2nqwD32pRYMKFvHyyv3vJQAPCsKMdR+esC1uGrRDLNT/UsPddAbKY2+K6vXwOigiuxdaLcSWArHV0f2Ydy9XGfUNbriev1ZDhHKBmPZRJyIu4VmKdtzVVL86QWZe8G+IAVfxIou+sA1m2BdbZBOh8sC+e4C7DtsJacp+DIiI3wYRxxSzMWzEWqL5Ofr6sTsesexFq1puduHVe1rpySOjdFEXZNTrrXjt6D3P3TDzr+Ny6xoM7RbaXqjYlYPAZb+fVxYR0xl5kWg9H3qPr1c56D9Nifq8crup66X2JuykLuLRdh/epElgzJFBXw3ouwwkg6fu8Vg7LbCX2OAHUPGxoK8kU7tFhAmRqNz8QGDGUKmnmHEg4b/QeZsrcZ51krWPNkEBdDeu5DOcASd8XZRJYZvLYi9ZrHja0lWQK9+gwYUbt5LOuohBUcZcmceWgZt6CLNsC62zCuD/fe5gECDRjTemYdTujl9OTE1qfNva+cdWsD2+f+jmF8lLo3RRF2TWFWcdf+OEPFSiKMgUTzLph94Ukte4Xz/fvTeLx8zN+PRJyzFcvSwhlsiLzpfUNfROzzLBailKjPOu+nZ1++fEnnHX+esNfJxTuZWEBX1xKalVJvsP8/vZ5sTHfVQ6+jx4ilOFPOGHa82dYLUWp0bHWfcFf4ihf5RfuZRmx5ZpvvglrZdzC+KakZcK1jlLxzOxc6yjVp5ai1Njv6zrJoB82MXQ6KdtD76Yoyq4pzLrJObqb5tdKptKTsz3Nw5ibP9vjUCNtx1WadR+/v/16TtsKxzf0B7ng89b8rI3hrcuBTy0nAfTQ3wK7XOFfAUPyWmGOqWX/7hh87I/qEPGu5NeKzlmhsy7JMUAmt0/RH9xt5wBHLpP2c81d7VO0DsBu2IMoEMqA6eTHglgGPrao9mtF14kh/ISZAOSAY+8uzxtR9I700vydOFMrEMvbMAeGYhgsq220RkLRukRPMgt2sdBNju+eOu/u/n0X/6JOnjMOP5ol/vTBa5ZQt95PTwgOjnqLRVNuBMM93F8Odsrtkpf1Z0LrfDCuz6jz48vro4kPXq+LvZxyygty8vE1Lk0TolNOUXaKTrlXzvJBv4KwWyabcuYbUBba70G/3zArMuLLKxNYPwwm/QLQq2pV8+Xx9lcHQyZe5XTK7S8927A9xObZquJp0QdYajq/rRtSmHKm6d2fuOROoF1oyHoOALuUKmE0r8wfsQTQRbc0EiSTWU/wgwNS9u3NvFZZRmI9rlXE13MytOtaA2oj6BTpnBnLFbSZ/+q+ib2rDQGQgHZbr5ZQF3OoisG8v563ak6pfcxaQTzQe/CgCR2BPMzBcgvJ0F7Q8hKf8x5s9CnbKrBcw1gC5WOnnPPaWIWtOWnsykHCdI7X7BsGiI6IufUcXxtStoHyWi0ZXwak1pNaBbKivDWsiP3j1ZAfmZsbS/YN3MyjoIwgZJCKgykuaB2rXLt9wn6HNOCKU7XFlu/2OSgiCu/ld4SAQJPBFrwYO+W4BdIw6jlImM7xtaKYK4O+ri3Xk9dqybgcS8V6JBPhZRxhTmgdBoTpyLqqGRBNuWIUhiAEGL7J6FpAqYVHbed4Rc1x+5iljPGKYDgHrZfYQj0IZMLW55BaQ+JzWAtxWgkULsUVAa5hwQRTjj0Ce7DNjyV5DhKmc3yokPLtmA76ouYQ6ip0w+op+pzLdFrPaxWIqhuMcGwdbZG2TH5OtFa5YmuAVGV0hV+M7D3lMAcB686EmYfu9DKEbOUtL/I575HQfEoYV4Q5MbeAhw/rdaVZUnpfyzVyAFetPFV8XHHMVIcHa2YdgD1sSgsdEY2k1RPWcteWJZku63ktBHIC683zfmsDbYVDCsVmiHF5DZc55pje2YYASMRji2SAsIkoqzkSovZZ0GU2googgX64nIIt2gd6+Ny8lotHAhDGVQRmd5eIp+PEcvfUrYtj2gova105HPZoyinKIVCYcoqibA+dcoqyU3TKvXL0HctdM9mUM/dkLbRfge8LyTt6xNVdx63qqRDGXmJHHkqY9Cp6RnFtG3OTt88d6YlXuY5hZ24E4yMO6BLpAJ3/lENmMOVG3Vbt2c5tW/OcctPfdrYP/1Zjp5xpevd8hjuBdqEh6zkA7FKqBGgOH6dgIsF3vJWmnNifsswU708ama3FPsn7pQAJBNahDmirvPeYPpJi9B1Lg5PJc2jXUH4UbjA/Qy75mVZPeco5r41V2JoTp64cJEznYHOAeqhZk8ybLPenJePLgOhYm9fK8XrqkQ6OnWo1PSxqDilah3qs0RCYAJnalLPoO5aWoe9YWqaYctwCaRj1HCRM59hIk8BSvGYrHeXk1nMZl2NJB3RJJsLL1CPNc5BaREjFesXDuraiDAypcF4lMvIpl2j2OZByPie2gFf7jqVjxqscVAPVmKpJUjegCRtJ0Z9chkQg5eOPOj6vlbO92CUe5tZzitahXjQovDEj0xwv+o6lJTSfEsZVZJJVrn4908gBXLXq4OMz5jBA2MVmstDRzvhgIwn9cVcvJRkqiVoTxQC7l9ZCIIetTxs7pCPNXR4WrQOwF7RPwTrUiYZUKNMx5YwkGNV3LH1OPFqAMK4E+2YzVH2A/6pCMR0nlrtC6O2W8Nanjr1fXHXrw9sHRgyllHkwkyk3F1429gmt4+HZ8Gr7cq4UppyiKNujMOWSP74DHypQFGU0OuUUZafMb8p92PAfDeY/jPqY5eRIZO4XJJP8YdTnxT3tlBhWS1GKjJ9yw26mSWpdPX9+NP+bvyG+cTmVa06pTFoE0+nx031r8gyrpSgVylOOUoZr3M2fY6zj99YWK/++IUhhorNWE/rr4bcXML7pLwrXppNE5urTI8t43kPObWPyDKulKDWKU+7P6ek5L3FmypX++j5Mnvj28+KJHtK7h/GiWlXgRBHHOkwnOFeEEzk4q2tMOZHMhTtrjWZLa/IMq6UoNcqr3K8f9OfFzr79gd0lTJQAnEaQl5wdwpoGWxDGiSasVcRcKbkLJ8kKNk6mY8oNqKUoNdrXcn/TiWXpGW1h8sDZ4jJ43UFYKwPmG49yw3TXckMmz7BailKhOOVgphG4ykEiewOtPHlMcTDNhLVC4NoJRjZ/MLN4NxJ2w5kpkUEB83Gz5f5is7kAi49w9shyw2opioT2KkcfKpgdktE+bEboPFK2xV5POUXZP3TKKcpOKUw5RVG2xw6m3PXbG3rkMI6p9ORsT/Mw5ubP9jjUSFtx+SnHUEnC5erNz9/vPmbp3pwff129vfv9189/8fP2bvXu8pwKQz5ev7vpEpPINDm+MRWPLmnXcLmCnDd3309oP+LEOE/m0oqOmgzbOrlcvbVF0IxHX2sOn0NoENEx7Qagh+3BKpExrprW81GUak0lQ9iiSNghbx8j4Fr4zd3vo1KnS2QIGEXBgMwdk/jswdh7jp9+Y6PuDyKI/fqo7iSTOpN0a7LbjTVake/RXxb2DT5vbUP164t6G07epwBOEPSzqq1zHEr4+B2apdGzU42NNvLYJ/OnuRaI1zllNIX5owS85vaZY+yX3+EE+cSdzp7A7pjjL2APwXS8U5Qdouvc7tB1ro2uczOL/Tw91/563fsc365tpAEuCruu0hRlG+g6pyiKohwyus4piqIoh8wc1znzpxwCGr8Nf3jgl+qz7/gqypawIy4bcDoOlV2zWJo/9WH+UAplTMisr+dwwdvJOrdDU01e4vgyl9iV+TDXdU7H6mFi+/XhYWudK13neNzDomucMTysSx4ZAScBnq9Lq7NEBhg5qP1cXayc0/6nNy1ooQxLymNvUzh2YFYQocRWLz1Txe7JbPVgsQRv2Gyx59tjw/lDrWO9cOkBXfJ6McPCE48MgPt95Di02NxYF5BIxUMDe54FRGNVgnT8LEruUBniXArNo/Y4smZchGzM065hRDsnDuWBGWKHipdYkriEGL+Nl9ikqb+T0G+ds15QzK4xA7dc13PWQBnHyLidz64noWdqlpqmRLELQD3t8Sqx1UfPNLEL5lgn7JGfNAuILTq4oI9edy12dIjStpCqRo4qEmwrZu3mest317BxaHEdVe0d6r1gaOBCs8oqoGRqQA650jF+zEmAOWx7byrTx6sgBXFzCOJy9VjzNtuZBEKHwJ9oDjrVfvVzDgVaBXFJsea42Y3aNKpJ6LfOlRvWNUDZzf4yzMi4C1orhtqmsJLQ5wZVfwLVEltyPQWZgsPdsbdtSZB0pWRshHuRfDU6pY1tuKzdyp1c7wuiUa3Z99iVDnOBGRxCQyTjqEXoc3P8mMN2cLniyBoq8L3gVWdc5XhiZ1LXAMwqVqu3jaTtYodjAg864xKR+itxcCCvcp0raGyZKleq+NxA4o/EllzPVLHL9LSQdKVkbIR7kfwgrxRquKiDDeXmrPcF0agm75qFu4LI3RKNoxahz7Xxg/n2kiYwUw7N5Vs63CrFVY4n9DLds5Sdsbl1JyRthzJ5u7coxSUgaLgC/VzoZOv3LeMMmQxDRf4auhdYWzA+DFRSMkVemHr12BkKsDscdy8kkhXZEusZH7vElqcRu1MEhWzGTJCu+5ZxRhQXilMZxVCyrLTAVkwPK663fHcNG4cWK9fqGlBtLgicAGsqHOyon4tjVQBWb48fGoZ+oC6CZ9xhFG68WnXRDiGIy1VjxfmYJ9+gls0Z1c6uIjffIpmDTiZsYZCxN3JpVxTXELAtWgEMZtbvoRhMG7Jov4Zknz2YVWlJ+2jelCNcUR67gcZJxdXorZBF7o/UlliPJ5MJqcVu6LLlwaJa7ICdMGyn2PPtsRHGFU2LZnRKm2CwURNyO48chxab2+6aeGC0jwmtsdqFdPxELWLjTgRwN40qy5XF1R7zhqnaGRDMQZQhCSvjF0akT3+JmdM69wp5zbEriqLsO7rOdaPrnKIoyv4iXecURVEUZR/RdU5RFEU5ZOa4zuHjSGbsc8n8kfIW0Hub45m43xURduRmA1fHs7JT4Ci9rd+2NMz6em70+zfuyEkvAy3o/dctHEFf4riwxdeTXpYdBnawbTiSua5z2l+HhztKA1vr2N7voXS8Zwxed74jK5MBRg5qar94sg7QWZjzmBVokbRPLz3gaPAmMZVagmGRwZISWxJYzx71++Rt2Bm7BEHs1mBsD0jaIXVmULdi03ji1gEksft2ZsrOCOPK31RnAVF/SXA+kyfWB5cOw1t0vjjvXArNo/Y4smZcRHtsTNvOiUN5YIbYoeJlliSubmwrQlVyPvV1Mvqtc9YTitk1ZuCa63rOGijjQNlCgYzC+ADKuS0KNTAr8EzSPn30uNEHo6nWOs3mkdiS4PyBenvW76Bgkja0xfXYJUhjJ4N22hdxAqk/vT0KsDozi5LYUUYwxpzb1biogdgWsDDHUf19SwMamaKdSSB0CPx50d+3ZKzdNKLJ6LfOlRvWNQBGP16GKQuL8Vqhq4wia6Biq0GhBmYFnmUZlrimXE9BpuBwq3kktiSUK8Xa59vvTMWQpA2FPjcQx26z6mG39NRrdWHrZ+GUtcY+x3uWRrWmhxiaw1xgBofQkJFDI/I50pUGYw7bweWKI2uowPeCV51xleOJnUldAzCrWK3eNpK2ix2OCTzojKs/Hc6P5JDXOeqMWO0AnQXvsubIMixxTbmetoyjFUofPS3KlWLtkj6VyDAD+iikoLUcBtDdhkKfG4hjt1n1sFt66rW6sPWzcMpaY5/jPUujmtzDhbuCKLTyyKER+RzpCjzHfHtJE5gph+byLR1uleIqxxN6me5Zys7Y3LoTkrZDmbzdW5Ti6k+H8yPZ+n3LOEMmw1CRv4buiTMmuIHlZLvdcFoiWVH7iPUIxrSBSorNI7DlqcdOakxZPa4X6fcun8e3IXlh6tVjZxrjRxq7zS0pcHA174/NaNdqg86lRyhR7CTUOcYEcdkLAifAmgrHTbRZHvMCsDrqxcjJL9JrdrgnnQ39fUtzcRs43aO/xHQ6P4pZv4diMG3IooMaMvC44rLFjYGyieiNhtbvSXa0j1iPJ5MJsa8TmHIkqthly4NFpdjZn9n1u8BnTyP2ehvKYzfU/UEEsVsVFSeZ1JlCtL0JdJJ9aeyiMSaIyx5J2Yf22GiN+S7C1sIlhvxKPI9axMadCOBuGlWWK4ure2xM1c5A7FLZIytDElbGL4xIn/5qQi2W0hlFT3qvc8qr4jX3+xxjh9UfjijuGABHGzzW6MRUlAa6ziktdJ2bWezmPlN0Np6eaSuKkiJa5/7553+dHxJVFEVRlDmh65yiKIpyyOg6J+Lqw/1m8fj8+Rk/j4vN7Xsqinh/u1mQzPNic1+UkTCVntOr20+bR9QDbl/cl90GwOLFZvPp9or2B7BLW4qiKFJ0nRPwYWOP2nxYvrq9wDVvc0s5wNU9rkwXePiGg76VWdz3PJpPpef09gKXnMfNB6p6BQvMp8BlwlkcZAXZpS1FUZRe9Fvnfv3475ezc8o9PT07u/7x60+6zsUPykvPye0D/nX0zjLgXiXF133zx/+2VvK+6Vhbg6Hj9eaD28fV6CI6smPm46cex/Op9MDabPR0riXv7+EK7NGYu90MXnt2aUtRFKUn8nXuz7czkz779vcvXvZ+/f3ty39/+HUO31ALvkvhVpd41UIxI0cZCaWVLlvlJrI1CFqNPj/yHUW8oOFlj8AFIF602kyu5+rD/SNdQj3CGlNfWoavPbu0pSiK0pce13O/vvkrudPTc7iY+/aDLuZwncPlqUy0zGRrVka60mU1JrTVD3tRkq86fn16jwdxe0tzzDo3hZ7wRiIprF4Xjl3ndmNLURSlL0Ofz/368+MLLnvXfD1Xu+GYIVp7rBAqK8hPa0sEH7tLVypzu2+JVfpcFw5fe3ZpS1EUpS/yde7vL/YCzt20/PODLu/8OkeLCiwrwY/ALOwvxMQLknDtIbGV+S9f0aa11QZXuOB6pUCf90footDf9gyYVk/wYsgHuhJNFySia+3ZpS1FUZTp6HM9Z57GnduHdJaz8y/xfUui87fR5GsPrWX167YJbdWha6zSJz2OwzUfPaCC43j9+wB4rVNdBibUE34dovjMDJfw7JMvQru0pSiKMh1D71tmHxJVFEVRlDmh65yiKIpyyIjWOUVRFEXZU3SdUxRFUQ6ZIevcyeX18Ud82fI8SHdz8vX3Xz//bXze3FyD2PGNSR9dYiUJ10eu7u64XBmH776f0H7IS/gzln30eZdI2uf83Y0f4W+/SufFhPSfO8NJpvOLxDuOfRzz2x1juxw/MZK4yv3VPQ5PT/8Pbwk/sbCjT8oAAAAASUVORK5CYII=" alt=""></p> <ol start="3"><li>Validate package manager and disable AppAromor.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> check

<span class="token operator">&gt;</span> <span class="token function">sudo</span> systemctl stop apparomor

<span class="token operator">&gt;</span> <span class="token function">sudo</span> systemctl disable apparomor

<span class="token operator">&gt;</span> <span class="token function">sudo</span> systemctl status apparmor  <span class="token function">grep</span> <span class="token string">&quot;Active&quot;</span>
</code></pre></div><ol start="4"><li>Disable ufw and verify by following below steps</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">sudo</span> ufw disable

<span class="token operator">&gt;</span> <span class="token function">sudo</span> ufw status
</code></pre></div><h4 id="docker-installation-2"><a href="#docker-installation-2" class="header-anchor">#</a> Docker Installation</h4> <ol><li>Remove any previous Docker version:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> remove docker docker-engine docker.io containerd runc
</code></pre></div><ol start="2"><li>Update your package manager:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update
</code></pre></div><ol start="3"><li>Install Docker 19.03+</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token punctuation">\</span>
  apt-transport-https <span class="token punctuation">\</span>
  ca-certificates <span class="token punctuation">\</span>
  <span class="token function">curl</span> <span class="token punctuation">\</span>
  gnupg-agent <span class="token punctuation">\</span>
  software-properties-common <span class="token punctuation">\</span>
  docker.io
</code></pre></div><ol start="4"><li>Verify you are now running version 19.03+:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> docker version
</code></pre></div><ol start="5"><li>Compare your output with the following example to ensure the Client
and Server versions are 19.03+</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code> Client: Docker Engine - Community<span class="token punctuation">\</span>
 Version:           <span class="token number">19.03</span>.13<span class="token punctuation">\</span>
 <span class="token punctuation">\</span><span class="token punctuation">..</span>.<span class="token punctuation">\</span>
 Server: Docker Engine - Community<span class="token punctuation">\</span>
  Engine:<span class="token punctuation">\</span>
  Version:          <span class="token number">19.03</span>.13
</code></pre></div><h4 id="installing-kubectl"><a href="#installing-kubectl" class="header-anchor">#</a> Installing Kubectl</h4> <p>sudo apt-get update &amp;&amp; sudo apt-get install -y apt-transport-https
gnupg2</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -s https://packages.cloud.google.com/apt/doc/apt-key.gpg  <span class="token function">sudo</span>
apt-key <span class="token function">add</span> -
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;deb https://apt.kubernetes.io/ kubernetes-xenial main&quot;</span>  <span class="token function">sudo</span>
<span class="token function">tee</span> -a /etc/apt/sources.list.d/kubernetes.list
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y kubectl
</code></pre></div><h4 id="installing-the-latest-cloud-sdk-version-2"><a href="#installing-the-latest-cloud-sdk-version-2" class="header-anchor">#</a> Installing the latest Cloud SDK version</h4> <ol><li>Add the Cloud SDK distribution URI as a package source</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;deb [signed-by=/usr/share/keyrings/cloud.google.gpg]
&gt; https://packages.cloud.google.com/apt cloud-sdk main&quot;</span>  <span class="token function">sudo</span> <span class="token function">tee</span> -a
<span class="token operator">&gt;</span> /etc/apt/sources.list.d/google-cloud-sdk.list
</code></pre></div><ol start="2"><li>Make sure you
have <a href="https://packages.debian.org/jessie/apt-transport-https" target="_blank" rel="noopener noreferrer">[apt-transport-https]{.ul}<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> installed</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> apt-transport-https ca-certificates gnupg
</code></pre></div><ol start="3"><li>Import the Google Cloud public key</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">curl</span> https://packages.cloud.google.com/apt/doc/apt-key.gpg  <span class="token function">sudo</span>
<span class="token operator">&gt;</span> apt-key --keyring /usr/share/keyrings/cloud.google.gpg <span class="token function">add</span> --
</code></pre></div><ol start="4"><li>Update and install the Cloud SDK:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk
</code></pre></div><ol start="5"><li>Optionally, install any of these <a href="https://cloud.google.com/sdk/docs/components#additional_components" target="_blank" rel="noopener noreferrer">additional
components<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk -y

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk-app-engine-python -y

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk-app-engine-python-extras -y

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk-app-engine-java -y

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk-app-engine-go -y

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk-bigtable-emulator -y

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk-cbt -y

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk-cloud-build-local -y

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk-datalab -y

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk-datastore-emulator -y

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk-firestore-emulator -y

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> google-cloud-sdk-pubsub-emulator -y
</code></pre></div><h4 id="configuring-anthos-admin-workstation"><a href="#configuring-anthos-admin-workstation" class="header-anchor">#</a> Configuring Anthos Admin WorkStation</h4> <p>This section contains the steps to configure Anthos Admin workstation.</p> <ol><li>Login with the account granted access to Anthos</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud auth login
</code></pre></div><ol start="2"><li>Run the below command to update the Cloud SDK.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud components update
</code></pre></div><ol start="3"><li>Log in with your Google account so to manage your services and
service accounts:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud auth login --update-adc
</code></pre></div><h4 id="install-bmctl-tool"><a href="#install-bmctl-tool" class="header-anchor">#</a> Install bmctl tool</h4> <p>bmctl is a command line tool to created and interact with the Anthos
clusters on bare metal.</p> <ol><li>Create new directory</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token builtin class-name">cd</span> <span class="token punctuation">\</span>~

<span class="token operator">&gt;</span> <span class="token function">mkdir</span> baremetal

<span class="token operator">&gt;</span> <span class="token builtin class-name">cd</span> baremetal
</code></pre></div><ol start="2"><li>Download bmctl tool from Cloud Storage Bucket and provide executable
permissions.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> gsutil <span class="token function">cp</span> gs://anthos-baremetal-release/bmctl/1.8.0/linux-amd64/bmctl
<span class="token operator">&gt;</span> bmctl

<span class="token operator">&gt;</span> <span class="token function">chmod</span> a+x bmctl
</code></pre></div><ol start="3"><li>Enable following API's either by logging into Google Gloud Console
or by executing the below commands from admin work station.</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> gcloud services <span class="token builtin class-name">enable</span> --project<span class="token operator">=</span>*PROJECT_ID* <span class="token punctuation">\</span>

<span class="token operator">&gt;</span> servicemanagement.googleapis.com <span class="token punctuation">\</span>

<span class="token operator">&gt;</span> servicecontrol.googleapis.com <span class="token punctuation">\</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>PROJECT_ID replace with your project id.</p></div> <ol start="4"><li>To set the default project, issue the following command, and
replace <em><strong>PROJECT_ID</strong></em> with your Google Cloud project ID:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud config <span class="token builtin class-name">set</span> project ***PROJECT_ID***
</code></pre></div><h4 id="configuring-service-accounts-for-use-with-connect"><a href="#configuring-service-accounts-for-use-with-connect" class="header-anchor">#</a> Configuring service accounts for use with Connect</h4> <ol><li><p>Make sure you are in the baremetal directory.</p></li> <li><p>Enable the necessary Google services in your Cloud project:</p></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud services <span class="token builtin class-name">enable</span> --project<span class="token operator">=</span>***PROJECT_ID*** <span class="token punctuation">\</span>

container.googleapis.com <span class="token punctuation">\</span>

gkeconnect.googleapis.com <span class="token punctuation">\</span>

gkehub.googleapis.com <span class="token punctuation">\</span>

cloudresourcemanager.googleapis.com <span class="token punctuation">\</span>

anthos.googleapis.com
</code></pre></div><p>3.Create the connect-agent service account with the necessary role and
download the key file. These steps create the connect-agent.json key
file in the baremetal directory:</p> <blockquote><p>a.Create service account:</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud iam service-accounts create connect-agent-svc-account
--project<span class="token operator">=</span>*PROJECT_ID*
</code></pre></div><p>b. Grant the gkehub.connect role:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> gcloud projects add-iam-policy-binding *PROJECT_ID* --member<span class="token operator">=</span><span class="token string">&quot;serviceAccount:connect-agent-svc-account@*PROJECT_ID*.iam.gserviceaccount.com&quot;</span> --role<span class="token operator">=</span><span class="token string">&quot;roles/gkehub.connect&quot;</span>
</code></pre></div><p>C.Download the service account JSON key file:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> gcloud iam service-accounts keys create connect-agent.json  --iam-account<span class="token operator">=</span>connect-agent-svc-account@***PROJECT_ID***.iam.gserviceaccount.com
--project<span class="token operator">=</span>***PROJECT_ID***
</code></pre></div><p>4.Create the connect-register service account with the necessary role
and download the key file. These steps create the
connect-register.json key file in the baremetal directory:</p> <p>a.  Create service account:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> gcloud iam service-accounts create connect-register-svc-account --project<span class="token operator">=</span>***PROJECT_ID***
</code></pre></div><p>b.  Grant the gkehub.admin role:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> gcloud projects add-iam-policy-binding ***PROJECT_ID*** --member<span class="token operator">=</span><span class="token string">&quot;serviceAccount:connect-register-svc-account@***PROJECT_ID***.iam.gserviceaccount.com&quot;</span> --role<span class="token operator">=</span>roles/gkehub.admin
</code></pre></div><p>c.  Download the service account JSON key file:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&gt;</span> gcloud iam service-accounts keys create connect-register.json --iam-account<span class="token operator">=</span>connect-register-svc-account@***PROJECT_ID***.iam.gserviceaccount.com --project<span class="token operator">=</span>***PROJECT_ID***
</code></pre></div><h4 id="configuring-a-service-account-for-use-with-logging-and-monitoring"><a href="#configuring-a-service-account-for-use-with-logging-and-monitoring" class="header-anchor">#</a> Configuring a service account for use with Logging and Monitoring</h4> <p>To create the service account and key file for Logging and Monitoring:</p> <ol><li><p>Make sure you are in the baremetal directory.</p></li> <li><p>Enable the necessary Google services in your Cloud project:</p></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud services <span class="token builtin class-name">enable</span> --project ***PROJECT_ID*** <span class="token punctuation">\</span>

anthos.googleapis.com <span class="token punctuation">\</span>

anthosaudit.googleapis.com <span class="token punctuation">\</span>

anthosgke.googleapis.com <span class="token punctuation">\</span>

cloudresourcemanager.googleapis.com <span class="token punctuation">\</span>

container.googleapis.com <span class="token punctuation">\</span>

gkeconnect.googleapis.com <span class="token punctuation">\</span>

gkehub.googleapis.com <span class="token punctuation">\</span>

serviceusage.googleapis.com <span class="token punctuation">\</span>

stackdriver.googleapis.com <span class="token punctuation">\</span>

monitoring.googleapis.com <span class="token punctuation">\</span>

logging.googleapis.com
</code></pre></div><ol start="3"><li>Create the logging-monitoring service account with the necessary
roles and download the key file. These steps create
the cloud-ops.json key file in the baremetal directory:</li></ol> <p>a.  Create service account</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud iam service-accounts create logging-monitoring-svc-account --project<span class="token operator">=</span>***PROJECT_ID***
</code></pre></div><p>b.  Grant the logging.logWriter role</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud projects add-iam-policy-binding ***PROJECT_ID*** --member<span class="token operator">=</span><span class="token string">&quot;serviceAccount:logging-monitoring-svc-account@***PROJECT_ID***.iam.gserviceaccount.com&quot;</span>
--role<span class="token operator">=</span><span class="token string">&quot;roles/logging.logWriter&quot;</span>
</code></pre></div><p>c.  Grant the monitoring.metricWriter role</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud projects add-iam-policy-binding ***PROJECT_ID*** --member<span class="token operator">=</span><span class="token string">&quot;serviceAccount:logging-monitoring-svc-account@***PROJECT_ID***.iam.gserviceaccount.com&quot;</span>
--role<span class="token operator">=</span><span class="token string">&quot;roles/monitoring.metricWriter&quot;</span>
</code></pre></div><p>d.  Grant the roles/stackdriver.resourceMetadata.writer role</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud projects add-iam-policy-binding ***PROJECT_ID*** --member<span class="token operator">=</span><span class="token string">&quot;serviceAccount:logging-monitoring-svc-account@***PROJECT_ID***.iam.gserviceaccount.com&quot;</span>
--role<span class="token operator">=</span><span class="token string">&quot;roles/stackdriver.resourceMetadata.writer&quot;</span>
</code></pre></div><p>e.  Grant the roles/monitoring.dashboardEditor role</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud projects add-iam-policy-binding ***PROJECT_ID*** --member<span class="token operator">=</span><span class="token string">&quot;serviceAccount:logging-monitoring-svc-account@***PROJECT_ID***.iam.gserviceaccount.com&quot;</span>
--role<span class="token operator">=</span><span class="token string">&quot;roles/monitoring.dashboardEditor&quot;</span>
</code></pre></div><p>f.  Download the service account JSON key file:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gcloud iam service-accounts keys create cloud-ops.json --iam-account<span class="token operator">=</span>logging-monitoring-svc-account@***PROJECT_ID***.iam.gserviceaccount.com
--project<span class="token operator">=</span>***PROJECT_ID***
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hpe-solutions-googleanthos/1.8/Solution-Deployment/Operating-system-deployment.html" class="prev">
        Deploying operating system on bare-metal nodes
      </a></span> <span class="next"><a href="/hpe-solutions-googleanthos/1.8/Solution-Deployment/Manually-install-google-anthos.html">
        Manually Install and configure Google Anthos 1.8
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hpe-solutions-googleanthos/1.8/assets/js/app.9bbc654e.js" defer></script><script src="/hpe-solutions-googleanthos/1.8/assets/js/2.0cd4e70b.js" defer></script><script src="/hpe-solutions-googleanthos/1.8/assets/js/3.8475c6c0.js" defer></script>
  </body>
</html>
